(this["webpackJsonpgeektrust-adminui"]=this["webpackJsonpgeektrust-adminui"]||[]).push([[0],{174:function(e,t,n){},175:function(e,t,n){},269:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(29),i=n.n(r),s=(n(174),n(273)),o=(n(130),n(175),n(162)),d=n(93),l=n.n(d),u=n(125),j=n(68),b=n(56),O=n(166),f=n(161),p=n(277),m=n(275),h=n(160),x=n(278),g=n(276),v=n(157),k=n(272),y=n(274),w=n(44),C=n(152),S=n.n(C).a.create({baseURL:"/",headers:{"Content-Type":"application/json"}}),I=n(167),N=n(279),F=n(24),R=["editing","dataIndex","title","inputType","record","index","children"],T=f.a.Search,L=[],E=function(e){var t=e.editing,n=e.dataIndex,a=e.title,c=e.inputType,r=(e.record,e.index,e.children),i=Object(O.a)(e,R),s="number"===c?Object(F.jsx)(p.a,{}):Object(F.jsx)(f.a,{});return Object(F.jsx)("td",Object(b.a)(Object(b.a)({},i),{},{children:t?Object(F.jsx)(m.a.Item,{name:n,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(a,"!")}],children:s}):r}))},B=function(){var e=m.a.useForm(),t=Object(j.a)(e,1)[0],n=Object(a.useState)(L),c=Object(j.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(""),d=Object(j.a)(s,2),O=d[0],f=d[1],p=Object(a.useState)(!1),C=Object(j.a)(p,2),R=C[0],B=C[1],J=Object(a.useState)(""),V=Object(j.a)(J,2),q=V[0],z=V[1],D=Object(a.useState)([]),K=Object(j.a)(D,2),M=K[0],P=K[1];r=r&&r.filter((function(e){return Object.keys(e).some((function(t){return e[t].toLowerCase().includes(q)}))}));Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),e.next=4,S.get("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json");case 4:t=e.sent,n=(n=t.data).map((function(e){var t=Object.assign({},e);return t.key=e.id,t})),i(n),B(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),B(!1),console.log(e.t0),a="error",c=e.t0.message,h.a[a]({message:c});case 16:case"end":return e.stop()}var a,c}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var U=function(e){return e.key===O},A=function(){f("")},G=function(){var e=Object(u.a)(l.a.mark((function e(n){var a,c,s,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.validateFields();case 3:a=e.sent,c=Object(o.a)(r),s=c.findIndex((function(e){return n===e.key})),s>-1?(d=c[s],c.splice(s,1,Object(b.a)(Object(b.a)({},d),a)),i(c),f("")):(c.push(a),i(c),f("")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),H=[{title:"Name",dataIndex:"name",width:"50%",editable:!0},{title:"Email",dataIndex:"email",width:"50%",editable:!0},{title:"Role",dataIndex:"role",width:"50%",editable:!0},{title:"operation",dataIndex:"operation",className:"operation",width:"50%",render:function(e,n){var a=U(n);return Object(F.jsxs)(F.Fragment,{children:[a?Object(F.jsxs)("span",{children:[Object(F.jsx)("a",{href:"/#",onClick:function(){return G(n.key)},style:{marginRight:8},children:"Save"}),Object(F.jsx)(x.a,{title:"Sure to cancel?",onConfirm:A,children:Object(F.jsx)("a",{href:"/#",children:"Cancel"})})]}):Object(F.jsx)(g.a.Link,{disabled:""!==O,onClick:function(){return function(e){t.setFieldsValue(Object(b.a)({name:"",age:"",address:""},e)),f(e.key)}(n)},children:Object(F.jsx)(I.a,{})}),Object(F.jsx)("div",{className:"delete-btn",children:Object(F.jsx)(g.a.Link,{disabled:""!==O,onClick:function(){return e=n.id,r=r.filter((function(t){return t.id!==e})),void i(r);var e},children:Object(F.jsx)(N.a,{twoToneColor:"#eb2f96"})})})]})}}].map((function(e){return e.editable?Object(b.a)(Object(b.a)({},e),{},{onCell:function(t){return{record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:U(t)}}}):e})),Q={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t),P(t)}};return R?Object(F.jsx)(v.a,{}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(T,{placeholder:"Search by name, email or role",onChange:function(e){z(e.target.value)},enterButton:!0,className:"pb-2"}),Object(F.jsx)(k.a,{}),Object(F.jsx)(m.a,{form:t,component:!1,children:Object(F.jsx)(y.a,{components:{body:{cell:E}},rowSelection:Object(b.a)({},Q),bordered:!0,dataSource:r,columns:H,rowClassName:"editable-row",pagination:{onChange:A}})}),M.length>0&&Object(F.jsx)(w.a,{type:"primary",danger:!0,className:"delete-selected-btn",onClick:function(){return function(){var e=M.map((function(e){return e.id}));r=r.filter((function(t){return!e.includes(t.id)})),i(r),P([])}()},children:"Delete Selected"})]})},J=function(){return Object(F.jsx)("div",{children:Object(F.jsx)(B,{})})};var V=function(){return Object(F.jsx)("div",{className:"admin-wrp",children:Object(F.jsx)(s.a,{justify:"center",align:"middle",children:Object(F.jsx)(J,{})})})};i.a.render(Object(F.jsx)(c.a.StrictMode,{children:Object(F.jsx)(V,{})}),document.getElementById("root"))}},[[269,1,2]]]);
//# sourceMappingURL=main.bd90a151.chunk.js.map